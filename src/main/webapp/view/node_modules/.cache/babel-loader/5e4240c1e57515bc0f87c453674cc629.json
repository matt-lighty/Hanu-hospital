{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hanu\\\\HANU_Hospital-main\\\\src\\\\main\\\\webapp\\\\view\\\\src\\\\components\\\\timeline\\\\Timeline.js\";\nimport React, { Component } from 'react';\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddMedicineDialog from './AddMedicineDialog';\nimport EditRecordDialog from './EditRecordDialog';\nimport Button from '@material-ui/core/Button';\nimport { addPres, editRecord, addProcedure, discharge } from '../../utils/api';\nimport './Timeline.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass TimeLine extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      records: this.props.records,\n      isOpenDialogAdd: false,\n      isOpenDialogEdit: false,\n      selectedRecord: null\n    };\n    this.handleOpenAddMedicine = this.handleOpenAddMedicine.bind(this);\n    this.handleOpenEditRecord = this.handleOpenEditRecord.bind(this);\n    this.addMedicineRecord = this.addMedicineRecord.bind(this);\n  }\n\n  handleOpenAddMedicine(id) {\n    this.setState(currentState => ({\n      selectedRecord: id,\n      isOpenDialogAdd: !currentState.isOpenDialogAdd\n    }));\n  }\n\n  handleOpenEditRecord(id) {\n    this.setState(currentState => ({\n      selectedRecord: id,\n      isOpenDialogEdit: !currentState.isOpenDialogEdit\n    }));\n  }\n\n  async addMedicineRecord(medicineId, recordId, body) {\n    await addPres(medicineId, recordId, body);\n    this.handleOpenAddMedicine();\n    window.location.reload();\n  }\n\n  async editRecord(data) {\n    await editRecord(data);\n    window.location.reload();\n  }\n\n  async addProcedure(id, serviceId) {\n    await addProcedure(id, serviceId);\n    window.location.reload();\n  }\n\n  async discharge(id) {\n    await discharge(id);\n    window.location.reload();\n  }\n\n  render() {\n    const {\n      records,\n      isOpenDialogAdd,\n      isOpenDialogEdit,\n      selectedRecord\n    } = this.state;\n    const {\n      findDoctor\n    } = this.props;\n    const id = window.location.href.split(\"/\").reverse()[0];\n    return /*#__PURE__*/_jsxDEV(Timeline, {\n      children: [isOpenDialogAdd && /*#__PURE__*/_jsxDEV(AddMedicineDialog, {\n        open: isOpenDialogAdd,\n        handleToggleDialogAdd: this.handleOpenAddMedicine,\n        addMedicineRecord: this.addMedicineRecord,\n        recordId: selectedRecord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 36\n      }, this), isOpenDialogEdit && /*#__PURE__*/_jsxDEV(EditRecordDialog, {\n        open: isOpenDialogEdit,\n        handleToggleDialogAdd: this.handleOpenEditRecord,\n        editRecord: this.editRecord,\n        recordId: selectedRecord,\n        patientId: id,\n        doctorId: findDoctor(selectedRecord) && findDoctor(selectedRecord).id,\n        addProcedure: this.addProcedure\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }, this), records && records.map(record => /*#__PURE__*/_jsxDEV(TimelineItem, {\n        children: [/*#__PURE__*/_jsxDEV(TimelineSeparator, {\n          children: [/*#__PURE__*/_jsxDEV(TimelineDot, {\n            color: \"secondary\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TimelineConnector, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TimelineContent, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `timeline ${record.dischargePatient === true ? \"discharged\" : \"not-discharge\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"timeline-content underline\",\n              children: record.bill && `Total Price: $${record.bill.totalPrice}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content date\",\n              children: record.dischargePatient === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"discharged\",\n                children: \"DISCHARGED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 98\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"not-discharge\",\n                children: \"NOT DISCHARGE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 141\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content date\",\n              children: record.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content doctor-name\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Doctor:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 69\n              }, this), \" Dr. \", findDoctor(record.id) && findDoctor(record.id).name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content diagnosis\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Medical Procedure:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 67\n              }, this), \" \", record.medicalProcedure && record.medicalProcedure.length > 0 && record.medicalProcedure[0].name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content diagnosis\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Diagnosis:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 67\n              }, this), \" \", record.diagnosis]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content note\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Note:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 62\n              }, this), \" \", record.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"timeline-content prescribe\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 'bold'\n                  },\n                  className: \"flex-center\",\n                  children: \"Prescribe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 33\n                }, this), record.dischargePatient === false && /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"add\",\n                  onClick: () => {\n                    this.handleOpenAddMedicine(record.id);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(AddIcon, {\n                    id: \"add-btn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 159\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 71\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"pres-table\",\n                style: {\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Start Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"End Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Dosage\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 33\n                }, this), record.prescriptionMedicine && record.prescriptionMedicine.map(p => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: p.medicine.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: p.startDate\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: p.endDate\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: p.dosage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 44\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this), record.dischargePatient === false && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"primary\",\n                onClick: () => {\n                  this.handleOpenEditRecord(record.id);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  className: \"green-color\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 133\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"secondary\",\n                onClick: () => {\n                  this.discharge(record.id);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  className: \"red-color\",\n                  children: \"DISCHARGE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 124\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 47\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default TimeLine;","map":{"version":3,"sources":["D:/Hanu/HANU_Hospital-main/src/main/webapp/view/src/components/timeline/Timeline.js"],"names":["React","Component","Timeline","TimelineItem","TimelineSeparator","TimelineConnector","TimelineContent","TimelineDot","IconButton","AddIcon","AddMedicineDialog","EditRecordDialog","Button","addPres","editRecord","addProcedure","discharge","TimeLine","constructor","props","state","records","isOpenDialogAdd","isOpenDialogEdit","selectedRecord","handleOpenAddMedicine","bind","handleOpenEditRecord","addMedicineRecord","id","setState","currentState","medicineId","recordId","body","window","location","reload","data","serviceId","render","findDoctor","href","split","reverse","map","record","dischargePatient","bill","totalPrice","date","name","medicalProcedure","length","diagnosis","description","fontWeight","width","prescriptionMedicine","p","medicine","startDate","endDate","dosage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Timeline from '@material-ui/lab/Timeline';\nimport TimelineItem from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent from '@material-ui/lab/TimelineContent';\nimport TimelineDot from '@material-ui/lab/TimelineDot';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddMedicineDialog from './AddMedicineDialog'\nimport EditRecordDialog from './EditRecordDialog'\nimport Button from '@material-ui/core/Button';\nimport { addPres, editRecord, addProcedure, discharge } from '../../utils/api'\nimport './Timeline.css'\nclass TimeLine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            records: this.props.records,\n            isOpenDialogAdd: false,\n            isOpenDialogEdit: false,\n            selectedRecord: null\n        }\n        this.handleOpenAddMedicine = this.handleOpenAddMedicine.bind(this);\n        this.handleOpenEditRecord = this.handleOpenEditRecord.bind(this);\n        this.addMedicineRecord = this.addMedicineRecord.bind(this)\n    }\n\n    handleOpenAddMedicine(id) {\n        this.setState((currentState) => ({\n            selectedRecord: id,\n            isOpenDialogAdd: !currentState.isOpenDialogAdd\n        }));\n    }\n\n    handleOpenEditRecord(id) {\n        this.setState((currentState) => ({\n            selectedRecord: id,\n            isOpenDialogEdit: !currentState.isOpenDialogEdit\n        }));\n    }\n\n    async addMedicineRecord(medicineId, recordId, body) {\n        await addPres(medicineId, recordId, body)\n        this.handleOpenAddMedicine()\n        window.location.reload();\n    }\n\n    async editRecord(data) {\n        await editRecord(data)\n        window.location.reload();\n    }\n\n    async addProcedure(id, serviceId) {\n        await addProcedure(id, serviceId)\n        window.location.reload();\n    }\n\n    async discharge(id) {\n        await discharge(id);\n        window.location.reload();\n    }\n\n    render() {\n        const { records, isOpenDialogAdd, isOpenDialogEdit, selectedRecord } = this.state;\n        const { findDoctor } = this.props;\n        const id = window.location.href.split(\"/\").reverse()[0]\n        return <Timeline>\n            {\n                isOpenDialogAdd && <AddMedicineDialog\n                    open={isOpenDialogAdd}\n                    handleToggleDialogAdd={this.handleOpenAddMedicine}\n                    addMedicineRecord={this.addMedicineRecord}\n                    recordId={selectedRecord}\n                />\n            }\n            {\n                isOpenDialogEdit && <EditRecordDialog\n                    open={isOpenDialogEdit}\n                    handleToggleDialogAdd={this.handleOpenEditRecord}\n                    editRecord={this.editRecord}\n                    recordId={selectedRecord}\n                    patientId={id}\n                    doctorId={findDoctor(selectedRecord) && findDoctor(selectedRecord).id}\n                    addProcedure={this.addProcedure}\n                />\n            }\n            {records && records.map(record => <TimelineItem>\n                <TimelineSeparator>\n                    <TimelineDot color=\"secondary\" variant=\"outlined\" />\n                    <TimelineConnector />\n                </TimelineSeparator>\n                <TimelineContent>\n                    <div className={`timeline ${record.dischargePatient === true ? \"discharged\" : \"not-discharge\"}`}>\n                        <h1 className=\"timeline-content underline\">{record.bill && `Total Price: $${record.bill.totalPrice}`}</h1>\n                        <p className=\"timeline-content date\">{record.dischargePatient === true ? <p className=\"discharged\">DISCHARGED</p> : <p className=\"not-discharge\">NOT DISCHARGE</p>}</p>\n                        <p className=\"timeline-content date\">{record.date}</p>\n                        <p className=\"timeline-content doctor-name\"><b>Doctor:</b> Dr. {findDoctor(record.id) && findDoctor(record.id).name}</p>\n                        <p className=\"timeline-content diagnosis\"><b>Medical Procedure:</b> {record.medicalProcedure && record.medicalProcedure.length > 0 && record.medicalProcedure[0].name} </p>\n                        <p className=\"timeline-content diagnosis\"><b>Diagnosis:</b> {record.diagnosis}</p>\n                        <p className=\"timeline-content note\"><b>Note:</b> {record.description}</p>\n                        <p className=\"timeline-content prescribe\">\n                            <div className=\"flex-between\">\n                                <div style={{ fontWeight: 'bold' }} className=\"flex-center\">Prescribe</div>\n                                {record.dischargePatient === false && <IconButton aria-label=\"add\" onClick={() => { this.handleOpenAddMedicine(record.id) }} ><AddIcon id=\"add-btn\" /></IconButton>}\n                            </div>\n                            <table className=\"pres-table\" style={{ width: \"100%\" }}>\n                                <tr>\n                                    <th>Name</th>\n                                    <th>Start Date</th>\n                                    <th>End Date</th>\n                                    <th>Dosage</th>\n                                </tr>\n                                {record.prescriptionMedicine && record.prescriptionMedicine.map(p => {\n                                    return <tr>\n                                        <td>{p.medicine.name}</td>\n                                        <td>{p.startDate}</td>\n                                        <td>{p.endDate}</td>\n                                        <td>{p.dosage}</td>\n                                    </tr>\n                                })\n                                }\n                            </table>\n                        </p>\n                        {record.dischargePatient === false &&\n                            <>\n                                <Button variant=\"outlined\" color=\"primary\" onClick={() => { this.handleOpenEditRecord(record.id) }}><b className=\"green-color\">Edit</b></Button >\n                                <Button variant=\"outlined\" color=\"secondary\" onClick={() => { this.discharge(record.id) }}><b className=\"red-color\">DISCHARGE</b></Button >\n                            </>\n                        }\n                    </div>\n                </TimelineContent>\n            </TimelineItem>\n            )}\n\n        </Timeline>\n\n    }\n}\n\nexport default TimeLine;"]},"metadata":{},"sourceType":"module"}