{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hanu\\\\HANU_Hospital-main\\\\src\\\\main\\\\webapp\\\\view\\\\src\\\\pages\\\\login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport './Login.css';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport { login } from '../../utils/api';\nimport { withRouter } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios');\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usernameOrEmail: \"\",\n      password: \"\",\n      status: \"\"\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.handleOnSubmit = this.handleOnSubmit.bind(this);\n  }\n\n  handleInput(type, e) {\n    this.setState({\n      [type]: e.target.value\n    });\n  }\n\n  async handleOnSubmit(e) {\n    e.preventDefault();\n    const {\n      usernameOrEmail,\n      password\n    } = this.state;\n    const {\n      setUser\n    } = this.props;\n    const result = await login({\n      usernameOrEmail,\n      password\n    });\n\n    if (result.accessToken) {\n      localStorage.setItem('token', result.accessToken);\n      setUser(result.user, this.props.history.push('/'));\n    } else if (result == 401) {\n      this.setState({\n        status: \"Wrong username/email or password\"\n      });\n    }\n  }\n\n  render() {\n    const {\n      status\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: this.handleOnSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: \"Login HANU+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              padding: '10px 0px',\n              color: 'red'\n            },\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Username Or Email\",\n          variant: \"outlined\",\n          onInput: e => {\n            this.handleInput(\"usernameOrEmail\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"Password\",\n          type: \"password\",\n          variant: \"outlined\",\n          onInput: e => {\n            this.handleInput(\"password\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          id: \"green-text\",\n          type: \"submit\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/Hanu/HANU_Hospital-main/src/main/webapp/view/src/pages/login/Login.js"],"names":["React","Component","TextField","Typography","Button","Link","login","withRouter","axios","require","Login","constructor","props","state","usernameOrEmail","password","status","handleInput","bind","handleOnSubmit","type","e","setState","target","value","preventDefault","setUser","result","accessToken","localStorage","setItem","user","history","push","render","padding","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport './Login.css'\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport { login } from '../../utils/api';\nimport { withRouter } from \"react-router\";\n\nconst axios = require('axios');\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            usernameOrEmail: \"\",\n            password: \"\",\n            status: \"\"\n        }\n        this.handleInput = this.handleInput.bind(this);\n        this.handleOnSubmit = this.handleOnSubmit.bind(this);\n    }\n\n    handleInput(type, e) {\n        this.setState({\n            [type]: e.target.value\n        })\n    }\n\n    async handleOnSubmit(e) {\n        e.preventDefault();\n        const { usernameOrEmail, password } = this.state;\n        const { setUser } = this.props;\n        const result = await login({ usernameOrEmail, password });\n        if (result.accessToken) {\n            localStorage.setItem('token', result.accessToken);\n            setUser(result.user, this.props.history.push('/'))\n        } else if (result == 401) {\n            this.setState({ status: \"Wrong username/email or password\" })\n        }\n    }\n\n    render() {\n        const { status } = this.state;\n        return <div className=\"login\">\n            <form className=\"form\" onSubmit={this.handleOnSubmit}>\n                <Typography variant=\"h4\" gutterBottom>\n                    Login HANU+\n                </Typography>\n                <div className=\"flex-center\">\n                    <p style={{ padding: '10px 0px', color: 'red' }}>{status}</p>\n                </div>\n                <TextField id=\"outlined-basic\" label=\"Username Or Email\" variant=\"outlined\" onInput={(e) => { this.handleInput(\"usernameOrEmail\", e) }} />\n                <TextField id=\"outlined-basic\" label=\"Password\" type=\"password\" variant=\"outlined\" onInput={(e) => { this.handleInput(\"password\", e) }} />\n                <Button variant=\"contained\" id=\"green-text\" type=\"submit\">\n                    Log In\n                </Button>\n            </form>\n        </div>\n    }\n}\n\nexport default withRouter(Login)"]},"metadata":{},"sourceType":"module"}